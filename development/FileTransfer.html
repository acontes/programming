<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- saved from url=(0022)http://internet.e-mail -->
  <title>ProActive File Transfer Model</title>
  <link rel="stylesheet" href="../ProActive.css">
</head>
<body style="background-color: white;">
<!--
Header : start
~~~ -->
<table width="100%">
  <tbody>
    <tr>
      <td align="left" valign="middle">
      <table border="1" cellpadding="2" cellspacing="0">
        <tbody>
          <tr>
            <td class="smallLink1">&nbsp;&nbsp;<a class="smallLink1"
 href="../../../../../overview-summary.html">back
to API</a>&nbsp;&nbsp;</td>
            <td class="smallLink1">&nbsp;&nbsp;<a class="smallLink1"
 href="../index.html">back to
index</a>&nbsp;&nbsp;</td>
            <td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2"
 href="../faultTolerance.html">prev</a>&nbsp;&nbsp;</td>
 <td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2"
 href="DescriptorProcess.html">next</a>&nbsp;&nbsp;</td>
          </tr>
        </tbody>
      </table>
      </td>
      <td align="right" valign="top">
      <img src="../ProActiveLogo200x34.gif"/></td>
    </tr>
  </tbody>
</table>
<hr>
<!-- Link to index : end -->
<h1>How to add a new FileTransfer CopyProtocol</h1>

<p>
FileTransfer protocols can be of two types: <b>external</b> or <b>internal</b>. Examples of external protocols are: <b>scp</b> and <b>rcp</b>. While examples of internal protocols are <b>Unicore</b> and <b>Globus</b>.
</p>

<p>
Usually external FileTransfer happens before the deployment of the process. On the other hand, internal FileTransfer happens at the same time of the process deployment, because the specific tools provided by the process are used. This implies that internal FileTransfer protocols can not be used with other process (ex: unicore file transfer can not be used when deploying with ssh), but the other way around is valid (ex: scp can be used when deploying with unicore).
</p>

<h2><a name="external"></a>Adding external FileTransfer CopyProtocol</h2>

<ul class="listWithSpace">
<li class="textNormal"><b>Implement the protocol class.</b> This is done inside the package: <b>org.objectweb.proactive.core.process.filetransfer;</b> by extending the abstract class <b>AbstractCopyProtocol</b>.</li>
<li class="textNormal"><b>FileTransferWorkshop:</b> Add the name of the protocol to array <b>ALLOWED_COPY_PROTOCOLS[]</b></li>
<li class="textNormal"><b>FileTransferWorkshop:</b> Add the object named based creation to factory method: <b>copyProtocolFactory(String name){...}</b></li>
</ul>

<p><b>Note</b>: Choosing the correct name for the protocol is simple, but must be done carefully. All names already in the array ALLOWED_COPY_PROTOCOLS are forbidden. This includes the name <b>"processDefault"</b>, which is also forbidden. In some cases <b>"processDefault"</b> will corresponde to an external FileTransfer protocol (ex: ssh with scp), and in some cases to an internal protocol (ex: unicore with unicore)</p> 

<h2><a name="internal"></a>Adding internal FileTransfer CopyProtocol</h2>

<ul class="listWithSpace">
<li class="textNormal">Implement the method <b>protected boolean internalFileTransferDefaultProtocol()</b> inside the process class. Note that this method will be called if the <b>processDefault</b> keyword is specified in the <b>XML Descriptor Process Section</b>. Therefore, this method usually must return true, so no other FileTransfer protocols will be tried.</li>
<li class="textNormal"><b>FileTransferWorkshop:</b> Add the name of the protocol to array <b>ALLOWED_COPY_PROTOCOLS[]</b></li>
</ul>
<p><b>Note</b>: When adding an internal FileTransfer protocol, <b>nothing</b> must be modified or added to the <b>copyProtocolFactory(){}</b> method.</p>


<!--
Footer : start ~~~ --><br>
<hr>
<div class="textSmall" align="right">Copyright
&copy;  2001-2005 INRIA All Rights Reserved.
<!-- Footer : end --></div>
</body>
</html>
