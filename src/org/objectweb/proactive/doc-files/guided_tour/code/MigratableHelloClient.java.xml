<?xml version="1.0" encoding="UTF-8"?>
<!--  File: /home/irosenbe/PA_new_doc/docbook-tuto/guided_tour/hands_on_programming/code/MigratableHelloClient.java.html  -->
  
    <para>
      <screen>
<emphasis role="bold">package org.objectweb.proactive.examples.hello;</emphasis>
<emphasis role="bold">public</emphasis> 
<emphasis role="bold">class</emphasis> 
MigratableHelloClient
 
<emphasis role="bold">{</emphasis>
    
<emphasis>/** entry point for the program
     * @param args destination nodes
     * for example :
    * rmi://localhost/node1 jini://localhost/node2*/</emphasis>
    
<emphasis role="bold">public</emphasis> 
<emphasis role="bold">static</emphasis> 
<emphasis role="bold">void</emphasis> 
main
<emphasis role="bold">(</emphasis>String
<emphasis role="bold">[</emphasis><emphasis role="bold">]</emphasis> 
args
<emphasis role="bold">)</emphasis> 
<emphasis role="bold">{</emphasis> 
// instanciation-based creation of the active object
        
MigratableHello
 
migratable_hello
 
=
 
MigratableHello
.
createMigratableHello
<emphasis role="bold">(</emphasis>
                
&quot;agent1&quot;
<emphasis role="bold">)</emphasis>;
        
// check if the migratable_hello has been created
        
<emphasis role="bold">if</emphasis> 
<emphasis role="bold">(</emphasis>migratable_hello
 
!
=
 
<emphasis role="bold">null</emphasis><emphasis role="bold">)</emphasis> 
<emphasis role="bold">{</emphasis>
            
// say hello
            
System
.
out
.
println
<emphasis role="bold">(</emphasis>migratable_hello
.
sayHello
<emphasis role="bold">(</emphasis><emphasis role="bold">)</emphasis><emphasis role="bold">)</emphasis>;
            
// start moving the object around
            
<emphasis role="bold">for</emphasis> 
<emphasis role="bold">(</emphasis><emphasis role="bold">int</emphasis> 
i
 
=
 
0
;
 
i
 
&lt;
 
args
.
length
;
 
i
+
+
<emphasis role="bold">)</emphasis> 
<emphasis role="bold">{</emphasis>
                
migratable_hello
.
moveTo
<emphasis role="bold">(</emphasis>args
<emphasis role="bold">[</emphasis>i
<emphasis role="bold">]</emphasis><emphasis role="bold">)</emphasis>;
                
System
.
out
.
println
<emphasis role="bold">(</emphasis>&quot;received message : &quot;
 
+
                    
migratable_hello
.
sayHello
<emphasis role="bold">(</emphasis><emphasis role="bold">)</emphasis><emphasis role="bold">)</emphasis>;
            
<emphasis role="bold">}</emphasis>
            
// possibly terminate the activity of the active object ...
            
migratable_hello
.
terminate
<emphasis role="bold">(</emphasis><emphasis role="bold">)</emphasis>;
        
<emphasis role="bold">}</emphasis> 
<emphasis role="bold">else</emphasis> 
<emphasis role="bold">{</emphasis>
            
System
.
out
.
println
<emphasis role="bold">(</emphasis>&quot;creation of the active object failed&quot;
<emphasis role="bold">)</emphasis>;
        
<emphasis role="bold">}</emphasis>
    
<emphasis role="bold">}</emphasis>
<emphasis role="bold">}</emphasis>
      </screen>
</para>
  
</chapter>
