<html>

<head>
<META HTTP-EQUIV="content-type" CONTENT="text/html; charset=ISO-8859-1">
<title>Package org.objectweb.proactive.ext.security.crypto</title>
<style>
.defaut {  font-family: Verdana, Helvetica, sans-serif; font-size: 12pt; color: #000000; background-color: #FFFFFF}
.titre1 {  font-family: Arial, Helvetica, sans-serif; font-size: 18pt; font-weight: bold; color:#000000}
.titre2 {  font-family: Arial, Helvetica, sans-serif; font-size: 16pt; font-style: italic; font-weight: bold; color:#000000}
</style>
</head>

<body class="defaut">
<table><tr><td>
<center>

<p class="titre1">
How to use the org.objectweb.proactive.ext.security.crypto package
</p>

<p class="titre2" align=left>
1. CLASSPATH setup 
</p>
<p align=left>
The org.objectweb.proactive.ext.security.crypto package requires the Legion of the Bouncy Castle JCE implementation. <br>
This package can be freely obtained at the following URL : <a href="http://www.bouncycastle.org/"><b>http://www.bouncycastle.org/</b></a><br>
Make sure to download the good version (JCE 1.2.1 for the JDK 1.3).<br>
<b>Both packages are included with ProActive in the lib directory.</b>
</p>

<p class="titre2" align=left>
2. Generation of the Certification Authority's Public/Private KeyPair 
</p>

<p align=left>
The second step is to generate the Certification Authority's Public/Private key pair. This pair will act as a reference in
the security protocols. 
</p>

<p align=left>
To generate the key pair just type : <br><br>
<b>java org.objectweb.proactive.ext.security.crypto.CertificationAuthority</b><br><br>
The key pair will be generated (It can take a couple of seconds) and saved in the current directory.<br>
The Certification Authority's private key will be saved in a file named : <b>acPrivateKey</b><br>
The Certification Authority's public  key will be saved in a file named : <b>acPublicKey</b><br>
Make sure that the private key is located in a safe place.<br>
The Certification Authority's private key sould only be used to generate the certificates of the domains (see step 3).<br>
Each domain must obtain a copy of the Certification Authority's public key.<br>
</p>

<p class="titre2" align=left>
3. Certificates generation
</p>

<p align=left>
The third step is to generate certificates for each domain of the ProActive Application.<br> 
Each domain must contain a PrivateCertificate and a PublicCertificate. The certificates are required for the
authentication and the key negociation protocols.<br>
The org.objectweb.proactive.ext.security.crypto package provides a graphical class for the certificates generation.
To launch this interface just type :<br><br>
<b>java org.objectweb.proactive.ext.security.crypto.CertificateGenerator</b><br><br> 
</p>

<br>
<IMG src="CertificateGenerator.png" border=0 alt="CertificateGenerator"><br>
<p><b>Screenshot of the graphical interface</b></p>

<p align=left>
You must then enter the following informations :<br><br>
- <i>Name of the domain :</i> The name that you wan't to give to the domain<br>
- <i>Validity :</i> The number of days before the certificate expires<br>
- <i>Save PublicCertificate to  :</i> The file in which you wan't to save the PublicCertificate<br>
- <i>Save PrivateCertificate to :</i> The file in which you wan't to save the PrivateCertificate<br>
- <i>AC PublicKey :</i> The file where the Certification Authority's public  key is stored (typically : acPublicKey)<br>
- <i>AC PrivateKey :</i> The file where the Certification Authority's private  key is stored (typically : acPrivateKey)<br>

To generate the certificates, just press the button "Generate!". When the certificate generation finishes (it can take a few seconds), the standard
output notices you the following message : "The Certificate Pair has been correctly generated and saved".<br><br>

IMPORTANT : if you don't specify absolutes paths for files, the certificates will be created in the current directory,
and the AC keys files will be searched in the current directory.
</p>

<p class="titre2" align=left>
4. Certificates Management 
</p>

<p align=left>
You can read the attributes of any certificate (private or public) with the following command :<br><br>
<b>java org.objectweb.proactive.ext.security.crypto.CertificateReader certificate_file</b><br><br>
Example of this command output :<br><br>
Type		: PublicCertificate<br>
Domain 		: www.inria.fr<br>
Delivered 	: Tue Jul 24 11:18:03 CEST 2001<br>
Expires 	: Wed Jul 24 11:18:03 CEST 2002<br>
<br>
IMPORTANT : if you decide to generate a new Certification Authority's key pair, you must be awarared that all the
certificates generated with the previous Certification Authority's key pair will become invalid.<br> 
</p>
<p class="titre2" align=left>
5. SecureNodes launching
</p>

<p align=left>
The last step is to launch the SecureNodes on each domain. To do this type :<br>
<b>java org.objectweb.proactive.rmi.StartSecureNode //oriens/SNode1 public_certifFile private_certifFile
acPublicKeyFile &</b><br>
The distributed ProActive Application is now ready to be launched !<br>
</p>
</center>
</table></td></tr>
</body>
</html>
