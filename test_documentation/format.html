<!DOCTYPE HTML PUBLIC "-//IETF//Dtd HTML//EN">
<html>
<head>
  <title>ProActive Test Suite API</title>
  <link rel="stylesheet" href="Files/ProActive.css">
</head>
<body style="background-color: rgb(255, 255, 255);">
<table width="100%">
  <tbody>
    <tr>
      <td align="left" valign="middle">
      <table cellpadding="2" cellspacing="0" border="1">
        <tbody>
          <tr>
            <td class="smallLink1">&nbsp;&nbsp;<a class="smallLink1"
 href="index.html">back
to index</a>&nbsp;&nbsp;</td>
            <td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2"
 href="timer.html">prev</a>&nbsp;&nbsp;</td>
            <td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2"
 href="logs.html">next</a>&nbsp;&nbsp;</td>
          </tr>
        </tbody>
      </table>
      </td>
      <td align="right" valign="top"> <a
 href="http://www-sop.inria.fr/oasis/ProActive/"><img
 src="Files/ProActiveLogo200x34.gif" width="200" height="34" border="0"></a>
      </td>
    </tr>
  </tbody>
</table>
<hr>
<h1>0.3 Results</h1>
<p>This section describes, how to format the Results of the tests.</p>
<h2>What is a Result ?<br>
</h2>
<p>In this API, the result concept is two things :</p>
<ul>
  <li>A real result : the test successes or fails, the benchmark runs
in&nbsp; 2.0ms</li>
  <li>Like a logger to log error, message, ...</li>
</ul>
<h2>What we don't use a real logger API ?</h2>
<p>
The problem with a real logger (like log4J) is we don't have the notion
of results.<br>
</p>
<p>In the TestSuite APi we decide to split logs of the program and
results.<br>
</p>
<h2>Structure of Results classes in TestSuite</h2>
<p>There is a super-class abstract : <b>AbstractResult</b> where there
is the
bare essentials to specify a Result :
</p>
<ul>
  <li>The type of the result, in order of increase importance :</li>
  <ul>
    <li><b>INFO</b> : an information message to debug</li>
    <li><b>MSG</b> : a message to debbug</li>
    <li><b>RESULT</b> : a none important result, typically a&nbsp;
middle result </li>
    <li><b>IMP_MSG</b> : an important message<br>
    </li>
    <li><b>GLOBAL_RESULT</b> : an important result, typically a group
result<br>
    </li>
    <li><b>ERROR</b> : typically an error in out Test method, for
example : can't init a group</li>
  </ul>
  <li>A message to describe the result</li>
  <li>An exception to show the stack trace of an error</li>
  <li>Time of creation of the result<br>
  </li>
</ul>
<ul>
  <ul>
  </ul>
</ul>
<p>There are two classes who implements this abstract class :
</p>
<p style="text-align: center;">
<img src="Files/result2.gif" title="" alt="Results Structure"
 style="width: 122px; height: 362px;"></p>
<p><b>AbstractResult</b> is only abstract to make generic formating, so
<b>TestResult</b> can print itself like a Java
String and a XML node. <b>BenchmarkResult</b> add a time result to
print.
</p>
<h2>How to export results</h2>
<p>In TestSuite API, the results are stocked in <b>ResultsCollection</b>,
there are two classes who contains a ResultCollection :<br>
</p>
<ul>
  <li>Manager</li>
  <li>Group<br>
  </li>
</ul>
<p>These classes implements the <b>ResultsExporter</b> interface.
After the execution of your Manager you can choose where and how to
print results :
</p>
<pre><code>yourManager.toXXX();</code></pre>
<p>Where toXXX() is :</p>
<ul>
  <li><b>String toString()</b> : return all results, if <code>yourManager.setVerbatim(true)</code>,
as a String else only results who the level &gt;= IMP_MSG</li>
  <li><b>void toPrintWriter(PrintWriter out)</b> : return all results,
if <code>yourManager.setVerbatim(true)</code>, in out else only
results who the level &gt;= IMP_MSG</li>
  <li><b>void toOutPutStream(OutputStream out)</b> : return all
results, if <code>yourManager.setVerbatim(true)</code>, in out else
only results who the level &gt;= IM_MSG</li>
  <li><b>Document toXML()</b> : return all results, in a DOM tree, it
is useful to transform, to format, to operate, ... results like you
want. </li>
  <li><b>void toHTML(File location)</b> : return all results, in
location file like an HTML document. To do this the API export the
results in a DOM tree, with the precedent method, and transform the XML
with XSLT into a HTML file.</li>
</ul>
<h3>About the Manager Verbatim option</h3>
<p>In Manager you can modify this by :</p>
<pre><code>yourManager.setVerbatim(true/false)</code></pre>
<p>If Verbatim value is :</p>
<ul>
  <li><b>true</b> : All results types could be show.</li>
  <li><b>false</b> : Only results with a level &gt;= IMP_MSG could be
show. In concrete terms, on your output you have only the messages from
the Manager, final result of group and th errors.</li>
</ul>
<p>By default Verbatim is at <b>false</b></p>
<p>This option has no effect on XML and HTML exports.</p>
<p>To see the value of Verbatim :</p>
<pre><code>yourManager.isVerbatim()</code></pre>

    <h3>By the file configurator</h3>
<p>See the <a href="descriptor.html">configuration file part</a> for more details to 
configure results output by the file descriptor.</p>

<h2>Format Results like you want</h2>
<p>If you export your results in a XML DOM tree, with <code>toXML()</code>
method, you can use XSLT to create new formats.</p>
</body>
</html>
