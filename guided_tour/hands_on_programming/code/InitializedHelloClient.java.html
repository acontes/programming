<html>
<head>
  <title>InitializedHelloClient.java</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<pre>
<strong>public</strong> <strong>class</strong> <font color="#2040a0">InitializedHelloClient</font> <font color="4444FF"><strong>{</strong></font>
    <strong>public</strong> <strong>static</strong> <strong>void</strong> <font color="#2040a0">main</font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">String</font><font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font> <font color="#2040a0">args</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
        <font color="#2040a0">InitializedHello</font> <font color="#2040a0">myServer</font><font color="4444FF">;</font>
        <font color="#2040a0">String</font> <font color="#2040a0">message</font><font color="4444FF">;</font>
        <strong>try</strong> <font color="4444FF"><strong>{</strong></font>
            <font color="#444444">// checks for the server's URL</font>
            <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">args</font>.<font color="#2040a0">length</font> <font color="4444FF">=</font><font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
                <font color="#444444">// There is no url to the server, so create an active server within this VM</font>
                <font color="#2040a0">myServer</font> <font color="4444FF">=</font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">InitializedHello</font><font color="4444FF"><strong>)</strong></font> <font color="#2040a0">org</font>.<font color="#2040a0">objectweb</font>.<font color="#2040a0">proactive</font>.<font color="#2040a0">ProActive</font>.<font color="#2040a0">newActive</font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">InitializedHello</font>.<strong>class</strong>.<font color="#2040a0">getName</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font>,
                        <strong>new</strong> <font color="#2040a0">Object</font><font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#008000">&quot;local&quot;</font> <font color="4444FF"><strong>}</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="4444FF"><strong>}</strong></font> <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
                <font color="#444444">// Lookups the server object</font>
                <font color="#2040a0">System</font>.<font color="#2040a0">out</font>.<font color="#2040a0">println</font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;Using server located on &quot;</font> <font color="4444FF">+</font> <font color="#2040a0">args</font><font color="4444FF"><strong>[</strong></font><font color="#FF0000">0</font><font color="4444FF"><strong>]</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
                <font color="#2040a0">myServer</font> <font color="4444FF">=</font> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">InitializedHello</font><font color="4444FF"><strong>)</strong></font> <font color="#2040a0">org</font>.<font color="#2040a0">objectweb</font>.<font color="#2040a0">proactive</font>.<font color="#2040a0">ProActive</font>.<font color="#2040a0">lookupActive</font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">InitializedHello</font>.<strong>class</strong>.<font color="#2040a0">getName</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font>,
                        <font color="#2040a0">args</font><font color="4444FF"><strong>[</strong></font><font color="#FF0000">0</font><font color="4444FF"><strong>]</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="4444FF"><strong>}</strong></font>

            <font color="#444444">// Invokes a remote method on this object to get the message</font>
            <font color="#2040a0">message</font> <font color="4444FF">=</font> <font color="#2040a0">myServer</font>.<font color="#2040a0">sayHello</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="#444444">// Prints out the message</font>
            <font color="#2040a0">System</font>.<font color="#2040a0">out</font>.<font color="#2040a0">println</font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;The message is : &quot;</font> <font color="4444FF">+</font> <font color="#2040a0">message</font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="#2040a0">myServer</font>.<font color="#2040a0">terminate</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
        <font color="4444FF"><strong>}</strong></font> <strong>catch</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">Exception</font> <font color="#2040a0">e</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
            <font color="#2040a0">System</font>.<font color="#2040a0">err</font>.<font color="#2040a0">println</font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;Could not reach/create server object&quot;</font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="#2040a0">e</font>.<font color="#2040a0">printStackTrace</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="#2040a0">System</font>.<font color="#2040a0">exit</font><font color="4444FF"><strong>(</strong></font><font color="#FF0000">1</font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
        <font color="4444FF"><strong>}</strong></font>
    <font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font>

</pre>
<hr>
</body>
</html>
