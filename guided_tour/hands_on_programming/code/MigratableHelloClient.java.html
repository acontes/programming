<html>
<head>
  <title>MigratableHelloClient.java</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<pre>
<strong>public</strong> <strong>class</strong> <font color="#2040a0">MigratableHelloClient</font> <font color="4444FF"><strong>{</strong></font>

    <font color="#444444"><i>/** entry point for the program
     * @param args destination nodes
     * for example :
    * rmi://localhost/node1 jini://localhost/node2*/</i></font>
    <strong>public</strong> <strong>static</strong> <strong>void</strong> <font color="#2040a0">main</font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">String</font><font color="4444FF"><strong>[</strong></font><font color="4444FF"><strong>]</strong></font> <font color="#2040a0">args</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font> <font color="#444444">// instanciation-based creation of the active object</font>
        <font color="#2040a0">MigratableHello</font> <font color="#2040a0">migratable_hello</font> <font color="4444FF">=</font> <font color="#2040a0">MigratableHello</font>.<font color="#2040a0">createMigratableHello</font><font color="4444FF"><strong>(</strong></font>
                <font color="#008000">&quot;agent1&quot;</font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>

        <font color="#444444">// check if the migratable_hello has been created</font>
        <strong>if</strong> <font color="4444FF"><strong>(</strong></font><font color="#2040a0">migratable_hello</font> <font color="4444FF">!</font><font color="4444FF">=</font> <strong>null</strong><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
            <font color="#444444">// say hello</font>
            <font color="#2040a0">System</font>.<font color="#2040a0">out</font>.<font color="#2040a0">println</font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">migratable_hello</font>.<font color="#2040a0">sayHello</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="#444444">// start moving the object around</font>
            <strong>for</strong> <font color="4444FF"><strong>(</strong></font><strong>int</strong> <font color="#2040a0">i</font> <font color="4444FF">=</font> <font color="#FF0000">0</font><font color="4444FF">;</font> <font color="#2040a0">i</font> <font color="4444FF">&lt;</font> <font color="#2040a0">args</font>.<font color="#2040a0">length</font><font color="4444FF">;</font> <font color="#2040a0">i</font><font color="4444FF">+</font><font color="4444FF">+</font><font color="4444FF"><strong>)</strong></font> <font color="4444FF"><strong>{</strong></font>
                <font color="#2040a0">migratable_hello</font>.<font color="#2040a0">moveTo</font><font color="4444FF"><strong>(</strong></font><font color="#2040a0">args</font><font color="4444FF"><strong>[</strong></font><font color="#2040a0">i</font><font color="4444FF"><strong>]</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
                <font color="#2040a0">System</font>.<font color="#2040a0">out</font>.<font color="#2040a0">println</font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;received message : &quot;</font> <font color="4444FF">+</font>
                    <font color="#2040a0">migratable_hello</font>.<font color="#2040a0">sayHello</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
            <font color="4444FF"><strong>}</strong></font>

            <font color="#444444">// possibly terminate the activity of the active object ...</font>
            <font color="#2040a0">migratable_hello</font>.<font color="#2040a0">terminate</font><font color="4444FF"><strong>(</strong></font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
        <font color="4444FF"><strong>}</strong></font> <strong>else</strong> <font color="4444FF"><strong>{</strong></font>
            <font color="#2040a0">System</font>.<font color="#2040a0">out</font>.<font color="#2040a0">println</font><font color="4444FF"><strong>(</strong></font><font color="#008000">&quot;creation of the active object failed&quot;</font><font color="4444FF"><strong>)</strong></font><font color="4444FF">;</font>
        <font color="4444FF"><strong>}</strong></font>
    <font color="4444FF"><strong>}</strong></font>
<font color="4444FF"><strong>}</strong></font>

</pre>
<hr>
</body>
</html>
