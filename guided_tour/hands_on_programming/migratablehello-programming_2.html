<!DOCTYPE HTML PUBLIC "-//IETF//Dtd HTML//EN">
<html>
  <head>
    <title>ProActive guided tour</title>
<link rel="stylesheet" href="../../ProActive.css">
  </head>
  <body bgcolor="#ffffff">
<table width="100%">
  <tr> 
    <td align="left" valign="middle"> <table cellpadding="2" cellspacing="0" border="1">
        <tr> 
          <td class="smallLink1">&nbsp;&nbsp;<a class="smallLink1" href="../index.html">back 
to index</a>&nbsp;&nbsp;</td>
          <td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2" href="migratablehello-programming_1.html">prev</a>&nbsp;&nbsp;</td>
          <td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2" href="migratablehello-execution.html">next</a>&nbsp;&nbsp;</td>
        </tr>
      </table></td>
    <td  align="right" valign="top"> <a href="http://www-sop.inria.fr/oasis/ProActive/"><img src="../../ProActiveLogo200x34.gif" width="200" height="34" border="0"/></a> 
    </td>
  </tr>
</table>
<hr>
<h3>3.3. the main method</h3>
<p>The entry point of the program is written in a separate class : MigrationTutorial.</p>
<p>It takes as arguments the locations of the nodes the object will be migrated 
  to.</p>
<p>The program calls the factory method of MigratableHello to create an instance of 
  an active object. It then moves it from node to node, pausing for a while between 
  the transfers.</p>
<p>&nbsp;</p>
<p>Here is the code for this main method :</p>
<blockquote> 
  <blockquote> 
    <blockquote>
      <code>
      <pre>/** entry point for the program<br>* @param args destination nodes<br>* for example :<br>* rmi://localhost/node1 jini://localhost/node2<br>*/    <br>public static void main(String[] args) {<br>    	<br>	// instanciation-based creation of the active object<br>	MigratableHello migratable_hello = MigratableHello.createMigratableHello(&quot;agent1&quot;);</pre>
      <pre>	// check if the migratable_hello has been created
   if (migratable_hello != null) {</pre>
      <pre>		// say hello
	   	migratable_hello.sayHello();</pre>
      <pre>		// start moving the object around
		for (int i = 0; i &lt; args.length; i++) {
			migratable_hello.moveTo(args[i]);
			migratable_hello.sayHello();</pre>
      <pre>			// wait for a little while before next migration
			try {
				Thread.sleep(5000);
			} catch (InterruptedException ie) {
				System.out.println(&quot;problem while pausing : &quot; + ie.toString());
				ie.printStackTrace();
			}
		}
		// possibly terminate the activity of the active object ...
		migratable_hello.terminate();
   } else {
   	System.out.println(&quot;creation of the active object failed&quot;);
   }
}</pre>
</code>
      <h3>&nbsp;</h3>
    </blockquote>
  </blockquote>
</blockquote>
</body>
</html>
