<!DOCTYPE HTML PUBLIC "-//IETF//Dtd HTML//EN">
<html>
  <head>
    <title>ProActive guided tour</title>
<link rel="stylesheet" href="../ProActive.css">
  </head>
  <body bgcolor="#ffffff">
   <h1>Guided tour</h1>
<p class="textNormal">This is an introduction to the functionalities offered by 
  ProActive : you will be performing distributed computations, moving objects 
  between virtual machines and verify the transparency of the </p>
<h2>1. Installation</h2>
<p class="textNormal">Follow the <a href="http://www-sop.inria.fr/oasis/proactive/doc/api/org/objectweb/proactive/doc-files/Installation.html">instructions</a> 
  for downloading and installing ProActive. </p>
<p class="textNormal">The examples used in this tour are provided in the /scripts 
  directory of the distribution.</p>
<p class="textNormal">The scripts are platform dependant : .sh files on linux 
  are equivalent to the .bat files on windows</p>
<h2>2. The Reader-Writer example</h2>
<p class="textNormal">Illustrates several <a href="http://www-sop.inria.fr/oasis/ProActive/apps/readers.html">synchronization 
  policies</a>.</p>
<h3>2.1 start the Reader-Writer application</h3>
<p class="textNormal">Use the readers script</p>
<h3>2.2 look and check the effects of the different policies : even, writer priority, 
  reader priority</h3>
<p class="textNormal">What happens when priority is set to &quot;reader priority&quot; 
  ?</p>
<h3>2.3 look at the code for programming such policies</h3>
<p class="textNormal">in org.objectweb.proactive.examples.readers.ReaderWriter.java</p>
<p class="textNormal">More specifically, look at the routines in :</p>
<p><code>public void evenPolicy(org.objectweb.proactive.Service service)</code></p>
<p><code>public void readerPolicy(org.objectweb.proactive.Service service)</code></p>
<p><code>public void writerPolicy(org.objectweb.proactive.Service service)</code></p>
<p><span class="textNormal">Look at the inner class MyRequestFilterm that implements 
  </span><code>org.objectweb.proactive.core.body.request.RequestFilter</code></p>
<p class="textNormal">How does it work?</p>
<h3>2.4 Introduce a bug in the Writer Priority policy </h3>
<p class="textNormal">For instance, let several writers go through at the same 
  time.</p>
<p class="textNormal">- observe the Writer Policy policy before recompiling</p>
<p class="textNormal">- recompile (using compile.sh readers or compile.bat readers)</p>
<p class="textNormal">- observe that stub classes are regenerated and recompiled</p>
<p class="textNormal">- observe the difference due to the new synchronization 
  policy : what happens now?</p>
<p class="textNormal">- correct the bug and recompile again ; check that everything 
  is back to normal</p>
<h2>3. The dining philosophers</h2>
<p class="textNormal">The &quot;dining philosophers&quot; problem is a classical 
  exercise in the teaching of concurrent programming. The goal is to avoid deadlocks. 
</p>
<p class="textNormal">We have provided <a href="http://www-sop.inria.fr/oasis/ProActive/apps/phil.html">an 
  illustration of the solution</a> using ProActive, where all the philosophers 
  are active objects, as well as the table and the dinner frame (user interface).</p>
<h3>3.1 start the philosophers application</h3>
<p class="textNormal">with philosophers.sh or philosophers.bat</p>
<h3>3.2 understand the color codes</h3>
<table width="75%" border="0">
  <tr> 
    <td rowspan="3"><div align="right"><strong>Philosophers</strong></div></td>
    <td><div align="center"><strong><img src="pics/think.gif" width="64" height="64"></strong></div></td>
    <td><strong>philosophing</strong></td>
  </tr>
  <tr> 
    <td><div align="center"><strong><img src="pics/wait.gif" width="64" height="64"></strong></div></td>
    <td><strong>hungry, wants the fork !</strong></td>
  </tr>
  <tr> 
    <td><div align="center"><strong><img src="pics/eat.gif" width="64" height="64"></strong></div></td>
    <td><strong>eating</strong></td>
  </tr>
  <tr> 
    <td rowspan="2"><div align="right"><strong>Forks</strong></div></td>
    <td><div align="center"><strong><img src="pics/fork1.gif" width="45" height="45"></strong></div></td>
    <td><strong>taken</strong></td>
  </tr>
  <tr> 
    <td><div align="center"><strong><img src="pics/fork0.gif" width="45" height="45"></strong></div></td>
    <td><strong>free</strong></td>
  </tr>
</table>
<p>&nbsp;</p>
<h3>&nbsp;</h3>
<h3>3.3 test the autopilot mode</h3>
<p class="textNormal">The application runs by itself without encountering a deadlock.</p>
<h3>3.4 test the manual mode</h3>
<p class="textNormal">Click on the philosophers' heads to switch their modes</p>
<p class="textNormal">Test that there are no deadlocks!</p>
<p class="textNormal">Test that you can starve one of the philosophers (ie the 
  others alternate eating and thinking while one never eats!)</p>
<h3>3.5 start the IC2D application</h3>
<p class="textNormal"><a href="http://www-sop.inria.fr/oasis/ProActive/IC2D/index.html">IC2D</a> 
  is a graphical environment for monitoring and steering of distributed and metacomputing 
  applications.</p>
<p class="textNormal">- being in the autopilot mode, start the IC2D visualization 
  application (using ic2d.sh or ic2d.bat)</p>
<p class="textNormal">- acquire you current machine </p>
<blockquote> 
  <blockquote> 
    <p class="textNormal"><em>menu monitoring - monitor new RMI host</em></p>
  </blockquote>
  <p class="textNormal">look at the active objects, and at the topology</p>
</blockquote>
<h2>4. C3D : a parallel, distributed and collaborative 3D renderer</h2>
<p class="textNormal"><a href="http://www-sop.inria.fr/oasis/ProActive/apps/c3d.html">C3D</a> 
  is a Java benchmark application that measures the performance of a 3D raytracer 
  renderer distributed over several Java virtual machines using Java RMI.</p>
<h3 class="textNormal">4.1 start C3D</h3>
<p class="textNormal">using the script c3d_no_user</p>
<p class="textNormal">A &quot;Dispatcher&quot; object is launched (ie a centralized 
  server) as well as 4 &quot;Renderer&quot; objects, that are active objects to 
  be used for parallel rendering.</p>
<p class="textNormal">The bottom part of the window allows the addition and removal 
  of renderers.</p>
<h3 class="textNormal">4.2 start a user</h3>
<p class="textNormal">using c3d_add_user</p>
<p class="textNormal">- connect on the current host (proposed by default) by just 
  giving your name</p>
<p class="textNormal">- spin the scene, add a random sphere, and observe how the 
  action takes place immediately</p>
<p class="textNormal">- add and remove renderers, and observe the effect on the 
  &quot;speed up&quot; indication from the user window.</p>
<p class="textNormal">Which configuration is the fastest for the rendering?</p>
<p class="textNormal">Are you on a multi-processor machine?</p>
<h3 class="textNormal">4.3 start a user from another machine</h3>
<p class="textNormal">using the c3d_add_user script, and <u>specifying the host</u> 
  (NOT set by default)</p>
<p class="textNormal">If you use rlogin, make sure the DISPLAY is properly set.</p>
<p class="textNormal">You must use the same version of ProActive on both machines!</p>
<p class="textNormal">- test the collaborative behavior of the application when 
  several users are connected.</p>
<p class="textNormal">Notice that a collaborative consensus must be reached before 
  starting some actions (or that a timeout occured).</p>
<h3 class="textNormal">4.4 start IC2D to visualize the topology</h3>
<p class="textNormal">- to visualize all Active objects, you need to acquire (&quot;monitoring&quot; 
  menu) : </p>
<blockquote> 
  <blockquote> 
    <p class="textNormal"> - the machine on which you started the &quot;Dispatcher&quot;</p>
    <p class="textNormal">- the machine on which you started the second user</p>
  </blockquote>
</blockquote>
<p class="textNormal">- add random spheres for instance, and observe messages 
  (Requests) between Active Objects.</p>
<p class="textNormal">- add and remove renderers, and check graphically whether 
  the corresponding Active Objects are contacted or not, in order to achieve the 
  rendering.</p>
<p class="textNormal">- you can textually visualize this information activating 
  &quot;add event timeline for this WorldObject&quot; on the World panelm with 
  the right button, and then &quot;show the event list window&quot; on the top 
  menu window</p>
<h3 class="textNormal">4.5 drag-and-drop migration</h3>
<p class="textNormal">- from IC2D, you can drag-and-drop active objects from one 
  JVM to another. Click the right button on a C3DRenderingEngine, and drag and 
  drop it in another JVM. Observe the migration taking place.</p>
<p class="textNormal">- add a new sphere, using all rendering engines, and check 
  that the messages are still sent to the active object that was asked to migrate.</p>
<p class="textNormal">- as migration and communications are implemented in a fully 
  compatible manner, you can even migrate with IC2D an active object while it 
  is communicating (for instance when a rendering action is in progress). Give 
  it a try!</p>
<h3 class="textNormal">4.6 start a new JVM in a computation</h3>
<p class="textNormal"> manually you can start a new JVM - a &quot;Node&quot; in 
  the ProActive terminology - that will be used in a running system.</p>
<p class="textNormal">- on a different machine, or by remote login on another 
  host, start another Node, named for instance NodeZ :</p>
<blockquote> 
  <blockquote>
    <p><span class="textNormal">under linux : </span><code>startNode.sh rmi://mymachine/NodeZ 
      &amp; (or startNode.bat rmi://mymachine/NodeZ)</code></p>
  </blockquote>
</blockquote>
<p class="textNormal">The node should appear in IC2D when you request the monitoring 
  of the new machine involved (Monitoring menu, then &quot;monitor new RMI host&quot;.</p>
<p class="textNormal">- the node just started has no active object running in 
  it. Drag and drop on of the renderers, and check that the node is now taking 
  place in the computation :</p>
<blockquote> 
  <blockquote> 
    <p class="textNormal">- spin the scene to trigger a new rendering</p>
    <p class="textNormal">- see the topology</p>
  </blockquote>
</blockquote>
<p class="textNormal"><em>* if you feel uncomfortable with the automatic layout, 
  switch to manual using the &quot;manual layout&quot; option (right click on 
  the World panel). You can then reorganize the layout of the machines.</em></p>
<p class="textNormal">- to fully distribute the computation, start several nodes 
  (you need 2 more) and drag-and drop renderers in them.</p>
<p class="textNormal">Depending on the machines you have, the complexity of the 
  image, look for the most efficient configuration.</p>
<h3 class="textNormal">4.7 have a look at the source code for the main classes 
  of this application :</h3>
<p><code>org.objectweb.proactive.examples.c3d.C3DUser.java</code></p>
<p><code>org.objectweb.proactive.examples.c3d.C3DRenderingEngine.java</code></p>
<p><code>org.objectweb.proactive.examples.c3d.C3DDispatcher.java</code></p>
<blockquote>
  <p class="textNormal">look at the method public void processRotate(org.objectweb.proactive.Body 
    body, String methodName, Request r) that handles election of the next action 
    to undertake.</p>
</blockquote>
<h2>5. Mobile agents</h2>
<p class="textNormal">This example shows a set of <a href="http://www-sop.inria.fr/oasis/ProActive/apps/penguin.html">mobile 
  agents</a> moving around while still communicating with their base and with 
  each other. It also features the capability to move a swing window between screens 
  while moving an agent from one JVM to the other.</p>
<h3 class="textNormal">5.1 start the penguin application</h3>
<p class="textNormal">using the penguin script.</p>
<h3 class="textNormal">5.2 start IC2D to see what is going on</h3>
<p class="textNormal">using the ic2d script</p>
<p class="textNormal"> acquire the machines you have started nodes on</p>
<h3 class="textNormal">5.3 add an agent</h3>
<p class="textNormal"> - on the Advanced Penguin Controller window : button &quot;add 
  agent&quot;</p>
<p class="textNormal">- select it, and press button &quot;start&quot;</p>
<p class="textNormal"> - observe that the active object is moving between the 
  machines, and that the penguin window disappears and reappears on the screen 
  associated with the new JVM.</p>
<h3 class="textNormal">5.4 add several agents</h3>
<p class="textNormal">after selecting them, use the buttons to :</p>
<blockquote> 
  <p class="textNormal">- communicate with them (&quot;call agent&quot;)</p>
  <p class="textNormal">- start, stop, resume them</p>
  <p class="textNormal">- trigger a communication between them (&quot;call another 
    agent&quot;)</p>
</blockquote>
<h3 class="textNormal">5.5 move the control window to another user </h3>
<p class="textNormal">- start a node on a different computer, using another screen 
  and keyboard</p>
<p class="textNormal">- monitor the corresponding JVM with IC2D</p>
<p class="textNormal">- drag-and-drop the active object &quot;AdvancedPenguinController&quot; 
  with IC2D into the newly created JVM : the control window will appear on the 
  other computer and its user can now control the penguins application.</p>
<p class="textNormal">- still with IC2D, doing a drag-and-drop back to the original 
  JVM, you will be able to get back the window, and control yourself the application.</p>
<h2>6. develop you own application</h2>
<p class="textNormal">pick up your favorite topic, and develop your own distributed 
  application using the ProActive library. Don't forget to use IC2D to visualize 
  the topology, and to debug.</p>
<h2>7. other applications</h2>
<p class="textNormal">you can also try <a href="http://www-sop.inria.fr/oasis/ProActive/apps/index.html">other 
  applications</a></p>
<p>&nbsp;</p>
<p class="textNormal">&nbsp; </p>
</body>
</html>
