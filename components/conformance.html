<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Component programming with ProActive - perspectives</title>
<link rel="stylesheet" href="../ProActive.css">
</head>
<body style="background-color: white;">
<!--
Header : start
~~~ -->
<table width="100%">
	<tbody>
		<tr>
			<td align="left" valign="middle">
			<table border="1" cellpadding="2" cellspacing="0">
				<tbody>
					<tr>
						<td class="smallLink1">&nbsp;&nbsp;<a class="smallLink1"
							href="../../../../overview-summary.html">back to API</a>&nbsp;&nbsp;</td>
						<td class="smallLink1">&nbsp;&nbsp;<a class="smallLink1" href="../index.html">back to index</a>&nbsp;&nbsp;</td>
						<td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2" href="implementation.html">prev</a>&nbsp;&nbsp;</td>
						<td class="smallLink2">&nbsp;&nbsp;<a class="smallLink2" href="configuration.html">next</a>&nbsp;&nbsp;</td>
					</tr>
				</tbody>
			</table>
			</td>
			<td align="right" valign="top"><img src="../ProActiveLogo200x34.gif" alt=""></td>
		</tr>
	</tbody>
</table>
<hr>
<!-- Link to index : end -->

<h1><a name="conformance_to_fractal"></a>Conformance to the Fractal model and extensions</h1>
<h2><a name="Model"></a>Model</h2>
<p class="textNormal">The conceptual model of Fractal is the base of our work, and as it is
extensible, we have added a few concepts to fulfill our needs. The Fractal specification defines
conformance levels for implementations of the API (section 7.1. of the Fractal 2 specification). The
implementation for ProActive is conformant up to level 3.2. . In other words, it is fully compliant
with the API, except it does not consider the creation of components through template components.</p>
<p class="textNormal">The implementation for ProActive currently defines 2 extensions to the base
component model :</p>
<ul class="listWithSpace">
	<li class="textNormal"><b>Distributed deployment</b> : components can be deployed onto distributed
	virtual machines, using the deployment facilities of ProActive.</li>
	<li class="textNormal"><b>Parallel components</b> : this type of components is a specialization of
	the composite components. They encapsulate other components of the same type, and all incoming
	calls are forwarded to the corresponding internal interfaces of the enclosed components. This
	allows parallel processing while just manipulating one entity, the enclosing parallel component. As
	we use the typed groups API of ProActive, coupled with the concept of internal collective
	interfaces of Fractal, the communications to the enclosed components are either <i>scattered</i> or
	<i>broadcasted</i>. The following figure sums up the different kinds of components available.</li>
</ul>
<div align="center"><img src="pics/kinds-of-components.gif" alt="" align="middle"></div>
<p align="center"><b class="legend">The different kinds of components with the ProActive
implementation. Primitive components have customizable activities (primitive components are also
active objects).</b></p>
<!--------------------------------------------------------------------------->
<h2><a name="Implementation_specific_API"></a>Implementation specific API</h2>
<h3>fractal.provider</h3>
<p class="textNormal">The API is the same for any Fractal implementation, though some classes are
implementation-specific :</p>
<p class="textNormal">The fractal provider class, that corresponds to the <code>fractal.provider</code>
parameters of the JVM, is <code>org.objectweb.proactive.core.component.Fractive</code>. The <code>Fractive</code>
class acts as :</p>
<ul>
	<li class="textNormal">a bootstrap component</li>
	<li class="textNormal">a GenericFactory for instantiating new components</li>
	<li class="textNormal">a utility class providing static methods to create collective interfaces and
	retreive references to ComponentParametersController</li>
</ul>
<h3>Content and controller descriptions</h3>
<p class="textNormal">The controller description and the content description of the components, as
specified in the method <code>public Component newFcInstance(Type type, Object controllerDesc,
Object contentDesc) throws InstantiationException</code> of the <code>org.objectweb.fractal.api.factory.Factory</code>
class, correspond in this implementation to the classes <code>org.objectweb.proactive.core.component.ControllerDescription</code>
and <code>org.proactive.core.component.ContentDescription</code>.</p>
<h3>Collective bindings</h3>
<p class="textNormal">In composite or parallel components, collective bindings are performed
automatically. For primitive component, the developer has to implement the bindings explicitely in
the code. We provide a method in the <code>org.objectweb.proactive.core.component.Fractal</code>
class for creating collective bindings :</p>
<pre class="snippet">public static ProActiveInterface createCollectiveClientInterface(String itfName, String itfSignature) throws ProActiveRuntimeException</pre>
<p class="textNormal">where <code>itfName </code>is the name of the interface, and <code>itfSignature
</code>is the signature of the interface.</p>
<p class="textNormal">Suppose you have an attribute of the base class of the primitive component of
type I, named i. The initialization of the binding would be :</p>
<pre class="snippet">i= (I) Fractal.createCollectiveClientInterface("i",I.class.getName());</pre>
<p class="textNormal">Then the binding method (implementation of the BindingController interface)
would be :</p>
<pre class="snippet">public void bindFc(String clientItfName, Object serverItf) {<br> if (clientItfName.equals("i")) {<br> ProActiveGroup.getGroup(i).add(serverItf);<br> }<br>}</pre>
<p class="textNormal">You will be able to see the collective interface as an object of type I, and
therefore invoke methods defined by I. But you will also be able to see the collective interface as
a <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Collection.html">collection</a>, as a
group can also be manipulated as a collection :<br>
</p>
<pre class="snippet">Collection c = ProActiveGroup.getGroup(i);</pre>
<h3>Requirements</h3>
<p class="textNormal">As this implementation is based on ProActive, several <a
	href="../ActiveObjectCreation.html">conditions</a> are required :</p>
<ul>
	<li class="textNormal">the base class for the implementation of a primitive component has to
	provide an empty, no-args constructor.</li>
	<li class="textNormal">parameters types and return types of the methods provided by the interfaces
	of the components have to be reifiable.</li>
</ul>

<p class="textSmall"><i> </i></p>
<!--
Footer : start
~~~ -->
<br>
<hr>
<div class="textSmall" align="right">Copyright &Acirc;&copy; April 2005 INRIA All Rights Reserved.
<p class="textNormal"></p>
<!-- Footer : end --></div>
</body>
</html>
