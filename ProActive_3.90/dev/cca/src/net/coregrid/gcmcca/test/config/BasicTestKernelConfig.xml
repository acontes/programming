<?xml version="1.0"?>
<!DOCTYPE KernelConfig
    PUBLIC "-//Emory DCL//H2O Kernel Config//1.0"
           "http://www.mathcs.emory.edu/dcl/h2o/dtd/kernel/kernelConfig-1.0.dtd">

<KernelConfig>

  <Properties>

    <!-- "localhost" attribute determines the kernel URL format. It can be a host name,
         IP address, or one of: ":ip" ,":hostName", ":canonicalHostName"-->
    <Property name="h2o.server.localhost" value=":ip"/>

    <!-- default pluglet location -->
    <Property name="h2o.service.base.url" value="$fileurl{${h2o.home}${/}services}"/>

    <!-- directory where kernel will store temporary files; will be created upon
         startup and deleted upon exit -->
    <Property name="h2o.kernel.workdir"
              value="${user.home}${/}.h2o${/}kernel-${h2o.kernel.guid}"/>

    <!-- directory where kernel will store files staged (copied from the network) by
         authorized pluglets -->
    <Property name="h2o.kernel.stagedir" value="${h2o.kernel.workdir}${/}stage"/>

  </Properties>

  <Endpoints>
    <Endpoint>
      <Transport name="stream.PlainSocketTransport"/>
      <Port>7799</Port>
    </Endpoint>
  </Endpoints>

  <Security>
    <KeyStores>
      <KeyStore id="h2otestCACerts" location="stdin:" passwordSource="null:"/>
      <KeyStore id="h2otestKeyStore" location="stdin:" passwordSource="null:"/>
    </KeyStores>

    <Identity keyStore="h2otestKeyStore" alias="h2otestprivkey" passwordSource="here:h2o-trustedCodeCerts"/>

    <Authenticators>
      <Authenticator class="edu.emory.mathcs.h2o.security.auth.passwd.XMLFileAuthenticator"
                     trustdb="stdin:"/>
    </Authenticators>

    <TrustedCodeCerts>
      <TrustedCodeCertEntry keyStore="h2otestCACerts" alias="*"/>
    </TrustedCodeCerts>

    <AuthorizationPolicy location="stdin:"/>
  </Security>

</KernelConfig>
