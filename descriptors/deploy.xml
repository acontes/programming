<?xml version="1.0" encoding="UTF-8"?>
<ProActiveDescriptor xmlns="urn:proactive:deployment:3.3"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="urn:proactive:deployment:3.3
 http://www-sop.inria.fr/oasis/ProActive/schemas/deployment/3.3/deployment.xsd">
  <!-- VARIABLES DEFINITION -->
  <variables>
    <!-- REMOTE PATHS -->
    <descriptorVariable name="REMOTE_PROACTIVE_HOME"
      value="/user/fabratu/home/work/ProActive_trunk_auth" />
    <descriptorVariable name="REMOTE_JAVA_HOME"
      value="/user/fabratu/home/tools/jdk1.6.0_02" />
  </variables>
  <!-- VIRTUAL NODES DEFINITION -->
  <componentDefinition>
    <virtualNodesDefinition>
      <virtualNode name="primesComputingNode"/>
    </virtualNodesDefinition>
  </componentDefinition>
  <!-- JVMS MAPPING AND CREATION -->
  <deployment>
    <!-- MAPPING -->
    <mapping>
      <map virtualNode="primesComputingNode">
        <jvmSet>
          <vmName value="computingVM" />
        </jvmSet>
      </map>
	<map virtualNode="primesManagerNode">
	  <jvmSet>
	    <vmName value="managerVM" />
	  </jvmSet>
	</map>
    </mapping>
    <!-- CREATION -->
    <jvms>
      <jvm name="computingVM">
        <creation>
          <processReference refid="listaMasini" />
        </creation>
      </jvm>
      <jvm name="managerVM">
	<creation>
	  <processReference refid="genericRemoteJVM" />
	</creation>
      </jvm>
    </jvms>
  </deployment>
  <!-- INFRASTRUCTURE SPECIFICATION -->
  <infrastructure>
    <processes>
      <!-- SPECIFICATION FOR THE REMOTE INFRASTRUCTURE -->
      <processDefinition id="genericRemoteJVM">
        <jvmProcess
          class="org.objectweb.proactive.core.process.JVMNodeProcess">
          <classpath>
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/ProActive.jar" />
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/bouncycastle.jar" />
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/fractal.jar" />
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/ganymed-ssh2-build210.jar" />
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/javassist.jar" />
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/log4j.jar" />
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/dist/lib/xercesImpl.jar" />
          </classpath>
          <javaPath>
            <absolutePath
              value="${REMOTE_JAVA_HOME}/bin/java" />
          </javaPath>
          <policyFile>
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/scripts/proactive.java.policy" />
          </policyFile>
          <log4jpropertiesFile>
            <absolutePath
              value="${REMOTE_PROACTIVE_HOME}/scripts/proactive-log4j" />
          </log4jpropertiesFile>
        </jvmProcess>
      </processDefinition>
      <!-- HOST AND PROTOCOL DEFINITION -->
      <processDefinition id="listaMasini">
        <processListbyHost
          class="org.objectweb.proactive.core.process.rsh.RSHProcessList"
	  hostlist = "cheypa apple duff fidelity naruto predadab"
          domain="inria.fr">
          <processReference refid="genericRemoteJVM" />
        </processListbyHost>
      </processDefinition>
    </processes>
  </infrastructure>
</ProActiveDescriptor>
