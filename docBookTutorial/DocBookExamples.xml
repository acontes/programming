<?xml version="1.0" encoding="UTF-8"?>
<sect1 id="DocBookExamples">
  <title>Example use of tags</title>

  <para>These are the basic rules to follow to use docbook tags. This document 
   is made up of the files in the <literal>docBookTutorial</literal> directory, and
   you may find it with the other manual files in the 'doc-files' directory.</para>

  <sect2>
    <title>Summary of the useful tags</title>

    <para>The main tags/structures you should be using are: </para>

    <itemizedlist>
      <listitem>
        <para>&lt;figure&gt; When you want an image</para>
      </listitem>

      <listitem>
        <para>&lt;example&gt; when you want an example with a title (should
        contain a &lt;screen&gt; or &lt;programlisting&gt;). You can also use 
        &lt;literal&gt; inside paragraphs.</para>
      </listitem>

      <listitem>
        <para>&lt;screen&gt; or &lt;programlisting&gt; for the
        code/text/descriptor examples</para>
      </listitem>

      <listitem>
       <para>&lt;para&gt; to start a paragraph, &lt;sectX&gt;, with X=1..4 to have headings,
        and &lt;emphasis&gt; when you want some particular bit to stick out. </para>
      </listitem>

      
      <listitem>
        <para>&lt;itemizedlist&gt; followed by several &lt;listitem&gt; when
        you want bullets</para>
      </listitem>

      <listitem>
        <para>&lt;link&gt; when you want to reference another
        section/chapter/part</para>
      </listitem>

      <listitem>
        <para>&lt;ulink&gt; when you want to reference a web url</para>
      </listitem>

      <listitem>
        <para>&lt;table&gt; when you want a table</para>
      </listitem>
    </itemizedlist>

    <note><para><emphasis role="bold">BUT, you should always be using the XXE icons.
    They have all you need (except for EXAMPLE/SCREEN)! You can also cut n
    paste!</emphasis></para></note>
  </sect2>

  <sect2 id="Figures">
    <title>Figures</title>

    <para>This is the figure example. Please use the TITLE tag</para>

    <figure>
      <title>A Drawing using the FIGURE tag</title>

      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="images/e1.png" format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>
  </sect2>

  <sect2 id="Bullets">
    <title>Bullets</title>

    <para>Use ITEMIZEDLIST followed by as many 'LISTITEM's as you want!
    <itemizedlist>
        <listitem>
          <para>Provide an implementation for the required server-side
          functionalities</para>
        </listitem>

        <listitem>
          <para>Provide an empty, no-arg constructor</para>
        </listitem>

        <listitem>
          <para>Write a method in order to instantiate one server
          object.</para>
        </listitem>
      </itemizedlist></para>
  </sect2>

  <sect2 id="Code">
    <title>Code</title>

    <para>Code sources should be written between PROGRAMLISTING tags (possiblibly language="java" or "xml" ). 
     You don't have to write valid code, as the highlighting (done by LanguageToDocBook classes) is based on 
     regular expression replacement, and not on language grammars.
     If you want to show some program output, you can use SCREEN instead 
     of PROGRAMLISTING. In any case, watch out, because spaces count (and produce your own indentation)! 
     You can also use the EXAMPLE TAG around your PROGRAMLISTING or SCREEN tags, to give a title, and be referenced in the
     table of examples. </para>
   
   <para> You can also insert directly sources from their original files, or type the code in the docbook.
    When you are typing the code inside the docbook file, you can even highlight yourself some 
    bits of the code you want to emphasis. This is shown in the last example. But beware, as you are
   inside docbook you have to escape the "&amp;" and the "&lt;" signs. If you don't want to, hide
   everything in a CDATA block.</para>
   
   <para>Within normal text, for instance in a paragraph, you can also just use 
    the LITERAL tag to highlight the  <literal>main</literal> methods.</para>

   <example>
    <title>JAVA program listing with file inclusion</title>
    <programlisting language="java"><textobject>
      <textdata fileref="../examples/hello/TinyHello.java" />
     </textobject></programlisting>
   </example>
   
   <example>
    <title>XML program listing with file inclusion</title>
    <programlisting language="xml"><textobject>
      <textdata fileref="../examples/components/c3d/adl/UserImpl.fractal" />
     </textobject></programlisting>
   </example>

   
   <para><screen>linux > start.sh &amp; </screen></para>

   <programlisting language="java"><![CDATA[package util;
    
    import java.io.IOException;
    
    /** All possible ways of transforming a code file into a decorated code file
     * should implement this interface. */
    public class JavaToDocBook {
    
        /** Convert a code file into a decorated code file.
         * @param fileToConvert the name of the file to convert 
         * @return convertedFile : the name of the file which has been created (it contains decorated code)  */   
         String convert(String fileToConvert) throws IOException {
                if (a > b && c < d ) {
                          // can use 'this' for 'NodeCreationEvent'
                          VirtualNode vn = pad.getVirtualNode('p2pvn');
                          vn.start();
                          }
                return "Hello World";      
         }
    
    }
    ]]></programlisting>
   
   <para>Here is an example of deployment descriptor that deploys 3 virtual nodes .</para>
   
   <programlisting language="xml"> &lt;ProActiveDescriptor&gt;                        
  &lt;componentDefinition&gt;
   &lt;virtualNodesDefinition&gt;
    &lt;virtualNode name='NonFT-Workers' property='multiple'/&gt;
    &lt;virtualNode name='FT-Workers' property='multiple' <emphasis role="bold">ftServiceId='appli'</emphasis>/&gt;
    &lt;virtualNode name='Failed' property='multiple' <emphasis role="bold">ftServiceId='resource'</emphasis>/&gt;
   &lt;/virtualNodesDefinition&gt;
  &lt;/componentDefinition&gt;
  &lt;deployment&gt;
   &lt;mapping&gt;
    &lt;map virtualNode='NonFT-Workers'&gt;
     &lt;jvmSet&gt;
      &lt;vmName value='Jvm1'/&gt;
     &lt;/jvmSet&gt;
    &lt;/map&gt;
    &lt;map virtualNode='FT-Workers'&gt;
     &lt;jvmSet&gt;
      &lt;vmName value='Jvm2'/&gt;
     &lt;/jvmSet&gt;
    &lt;/map&gt;
    ....
   </programlisting>
 

  </sect2>

  <sect2 id="Links">
    <title>Links</title>

    <para>Use LINK tags to point to the <link linkend="Figures">Figures
    id</link> which is in the doc above.</para>

    <para>Use ULINK tags to point to <ulink
    url="http://www-sop.inria.fr/oasis/proactive/">ProActive on the
    web</ulink>, it's good for you!</para>
  
  <para>Use CITATION followed by an XREF for citations. For example, see 
   <citation><xref linkend="BBC02" endterm="BBC02.abbrev"/></citation> to learn on
   groups. Following is an example biblio entry. You should consider using the bibdb
   tool to convert from bibtex (http://charybde.homeunix.org/~schmitz/code/bibdb/).
   <!-- TODO : there should really only be one reference written in the tags, and 
   xslt parsing should work out the rest --> . 
     </para>
     
     <bibliography id="Bibliography">
      <biblioentry role="inproceedings" id="BBC02">
       <abbrev id="BBC02.abbrev">BBC02</abbrev>
       <biblioset role="article">
        <authorgroup>
         <author><firstname>Laurent</firstname><surname>Baduel</surname></author>
         <author><firstname>Francoise</firstname><surname>Baude</surname></author>
         <author><firstname>Denis</firstname><surname>Caromel</surname></author>
        </authorgroup>
        <title>Efficient, Flexible, and Typed Group Communications in Java</title>
        <pagenums>28--36</pagenums>
       </biblioset>
       <biblioset role="proceedings">
        <confgroup>
         <conftitle>Joint ACM Java Grande - ISCOPE 2002 Conference</conftitle>
         <address>Seattle</address>
        </confgroup>
        <pubdate>2002</pubdate>
        <publisher><publishername>ACM Press</publishername></publisher>
       </biblioset>
       <bibliomisc role="note">ISBN 1-58113-559-8</bibliomisc>
      </biblioentry>
     </bibliography >
   
 </sect2>

  <sect2 id="Tables">
    <title>Tables</title>

    <para>The tag to use is TABLE.</para>

    <table>
      <title>This is an example table</title>

      <tgroup cols="2">
        <tbody>
          <row>
            <entry><para><emphasis role="bold">Name</emphasis></para></entry>
            <entry><para><emphasis role="bold">Hits</emphasis></para></entry>
          </row>

          <row>
            <entry><para>Bob</para></entry>
            <entry><para>5</para></entry>
          </row>

          <row>
            <entry><para>Mike</para></entry>
            <entry><para>8</para></entry>
          </row>

          <row>
            <entry><para>Jude</para></entry>
            <entry><para>3</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect2>
  
 </sect1>